# 환경설정 가이드

프로젝트 실행에 필요한 도구 설치와 환경 구성을 안내합니다.

## 1. 필수 도구 설치

### Python 3.12+

[python.org](https://www.python.org/downloads/)에서 Python 3.12 이상을 설치합니다.

```bash
python --version
# Python 3.12.x
```

### uv (패키지 매니저)

[uv](https://docs.astral.sh/uv/getting-started/installation/)를 설치합니다.

```bash
# Windows (PowerShell)
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"

# macOS / Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# 확인
uv --version
```

### Neo4j Desktop

[Neo4j Desktop](https://neo4j.com/download/)을 설치하고 로컬 DB를 생성합니다.

1. Neo4j Desktop 설치 및 실행
2. **New Project** 생성
3. **Add Database** → **Local DBMS** 선택
4. 비밀번호 설정 (`.env`에 입력할 비밀번호)
5. **Start** 버튼으로 DB 시작

기본 접속 정보:
- URI: `bolt://127.0.0.1:7687`
- Username: `neo4j`
- Password: 설정한 비밀번호

### Ollama

[Ollama](https://ollama.ai)를 설치합니다.

```bash
# 설치 확인
ollama --version

# LLM 모델 다운로드 (~5GB)
ollama pull qwen3:8b-q4_K_M

# Embedding 모델 다운로드 (~1.2GB)
ollama pull bona/bge-m3-korean

# 모델 목록 확인
ollama list
```

## 2. 프로젝트 설치

```bash
git clone https://github.com/choiminjong/Knowledge.git
cd Knowledge

# Python 가상환경 + 의존성 설치 (한 번에)
uv sync
```

`uv sync`가 자동으로 수행하는 작업:
- `.python-version`에 맞는 Python 버전 확인
- `.venv` 가상환경 생성
- `pyproject.toml`의 모든 의존성 설치
- `uv.lock`으로 정확한 버전 보장

## 3. 환경변수 설정

```bash
cp .env.example .env
```

`.env` 파일을 열어 Neo4j 비밀번호를 입력합니다:

```env
# Neo4j
NEO4J_URI=bolt://127.0.0.1:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=여기에_비밀번호_입력
NEO4J_DB=neo4j

# Ollama (기본값 그대로 사용)
OLLAMA_MODEL=qwen3:8b-q4_K_M
OLLAMA_EMBEDDING_MODEL=bona/bge-m3-korean
```

## 4. 설치 확인

```bash
# Neo4j 연결 확인
uv run python -c "
import neo4j, dotenv, os
dotenv.load_dotenv()
d = neo4j.GraphDatabase.driver(os.getenv('NEO4J_URI'), auth=(os.getenv('NEO4J_USERNAME'), os.getenv('NEO4J_PASSWORD')))
d.verify_connectivity()
print('Neo4j 연결 성공')
d.close()
"

# Ollama 확인
uv run python -c "
import ollama
print(ollama.chat(model='qwen3:8b-q4_K_M', messages=[{'role':'user','content':'안녕'}])['message']['content'][:50])
"
```

## 다음 단계

환경 구성이 완료되면 [데이터 수집 가이드](02_데이터수집.md)로 진행하세요.
