# 데이터 수집 가이드

네이버 뉴스를 크롤링하여 그래프 DB에 적재할 데이터를 수집합니다.

## 개요

`notebooks/01_DataScrapping.ipynb`는 네이버 뉴스 6개 카테고리에서 기사를 자동 수집합니다.

| 항목 | 내용 |
|------|------|
| 수집 대상 | 네이버 뉴스 (n.news.naver.com) |
| 카테고리 | 정치, 경제, 사회, 생활/문화, IT/과학, 세계 |
| 카테고리당 기사 수 | 10건 (NUM_ARTICLES_PER_CATEGORY 변수로 조정) |
| 출력 파일 | `Articles_YYYYMMDD_HHMMSS.xlsx` |
| 사용 도구 | Selenium, undetected-chromedriver |

## 실행 방법

1. Jupyter Notebook 실행

```bash
uv run jupyter notebook
```

2. `notebooks/01_DataScrapping.ipynb` 파일 열기

3. 셀을 위에서부터 순서대로 실행

## 수집 데이터 구조

Excel 파일에 저장되는 컬럼:

| 컬럼 | 설명 | 예시 |
|------|------|------|
| article_id | 고유 ID | `ART_055_0001234567` |
| title | 기사 제목 | [속보] 민주당 44.8%... |
| content | 기사 본문 | 전체 텍스트 |
| url | 기사 URL | https://n.news.naver.com/... |
| published_date | 발행일시 | 2026-02-16 12:00:10 |
| source | 언론사 | 리얼미터 |
| author | 기자명 | 홍길동 |
| category | 카테고리 | 정치 |

## 크롤링 흐름

```
카테고리 페이지 접속
    │
    ├─ 기사 링크 수집 (get_article_links)
    │      └─ 카테고리당 10개 URL 추출
    │
    └─ 각 기사 상세 파싱 (parse_article_detail)
           ├─ 제목, 본문, 발행일 추출
           ├─ 언론사, 기자 추출
           └─ article_id 생성
    │
    └─ DataFrame → Excel 저장
```

## 설정 변경

수집 기사 수를 변경하려면 노트북 상단의 변수를 수정합니다:

```python
NUM_ARTICLES_PER_CATEGORY = 10  # 카테고리당 기사 수
```

## 트러블슈팅

### Chrome 관련 오류

- **Chrome 버전 불일치**: `webdriver-manager`가 자동으로 드라이버를 관리하지만, Chrome이 최신 버전이 아닌 경우 `undetected-chromedriver`가 실패할 수 있습니다.
- **해결**: Chrome을 최신 버전으로 업데이트하세요.

### Kernel 크래시

- Selenium이 Chrome 프로세스를 열면 메모리 사용량이 증가합니다.
- headless 모드가 기본 설정되어 있으나, 메모리가 부족하면 카테고리 수를 줄여보세요.

## 다음 단계

Excel 파일이 생성되면 [그래프 구축 가이드](03_그래프구축.md)로 진행하세요.
